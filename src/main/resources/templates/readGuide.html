<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farming Guides & Resources - KrishiTech</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
    <link rel="stylesheet" th:href="@{/css/guides.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
<header>
    <nav class="navbar">
        <div class="logo">
            <h1>KrishiTech</h1>
            <span class="tagline">Smart Farming Solutions</span>
        </div>
        <div class="menu-toggle" id="mobile-menu">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </div>
        <ul class="nav-menu">
            <li><a th:href="@{/}">Home</a></li>
            <li><a th:href="@{/guides}" class="active">Farming Guides</a></li>
            <!--                <li><a th:href="@{/machinery}">Machinery</a></li>-->
            <li><a th:href="@{/weatherForecast}">Weather</a></li>
            <li><a th:href="@{/marketForecast}">Market</a></li>
            <!-- Show Profile Dropdown If User Is Logged In -->
            <li class="dropdown" th:if="${session.userId}">
                <a href="#" class="dropbtn">Profile â–¼</a>
                <ul class="dropdown-content">
                    <li><a th:href="@{/profile}">View Profile</a></li>
                    <li><a th:href="@{/settings}">Settings</a></li>
                    <li><a th:href="@{/forum}">Community</a></li>
                    <li><a th:href="@{/logout}">Logout</a></li>
                </ul>
            </li>

            <!-- Show Login Option If User Is NOT Logged In -->
            <li th:if="${session.userId == null}">
                <a th:href="@{/login}">Login</a>
            </li>
        </ul>
    </nav>
</header>

<div class="guide-detail-container">
    <div class="guide-header">
        <h1 th:text="${guide.title}"></h1>
        <div class="guide-header-meta">
            <div class="guide-author">
                <span>Source: </span><a th:href="${guide.sourceUrl}"><span th:text="${guide.sourceName}"></span></a>
            </div>
            <div class="guide-date">
                <i class="fas fa-calendar-alt"></i>
                <span th:text="${guide.createdAt != null ? #temporals.format(guide.createdAt, 'MMMM d, yyyy') : 'Date not available'}"></span>
            </div>
        </div>
        <div class="guide-featured-image"
             th:style="'background-image: url(\'/uploads/farmguides/' + ${guide.featuredImage} + '\')'"></div>
    </div>

    <div class="guide-content-wrapper" style="text-align: justify;">
        <p th:text="${guide.content}"></p>
    </div>

</div>

<footer>
    <div class="footer-content">
        <div class="footer-logo">
            <h2><i class="fas fa-leaf"></i> KrishiTech</h2>
            <p>Smart Farming Solutions</p><br>
            <div class="social-links">
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-youtube"></i></a>
            </div>
        </div>
        <div class="footer-links">
            <div class="footer-column">
                <h3>Quick Links</h3>
                <ul>
                    <li><a th:href="@{/guides}">Farming Guides</a></li>
                    <li><a th:href="@{/weatherForecast}">Weather Forecast</a></li>
                    <li><a th:href="@{/marketForecast}">Market Price Forecast</a></li>
                    <li><a th:href="@{/forum}">Community Forums</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Contact Us</h3>
                <ul>
                    <li><i class="fas fa-map-marker-alt"></i> Kathmandu, Nepal</li>
                    <li><i class="fas fa-phone"></i> 9800000000</li>
                    <li><i class="fas fa-envelope"></i> KrishiTech@gmail.com</li>
                </ul>
            </div>
        </div>
    </div>
</footer>

<script th:src="@{/js/guides.js}"></script>
</body>
</html>
